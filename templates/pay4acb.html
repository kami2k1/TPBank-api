<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from test-payment.momo.vn/v2/gateway/pay?t=TU9NT0JLVU4yMDE4MDUyOXxPRDE3NDYyMDc3MzM0OTI&s=0b183944e9197026e5a4cf37343a167a17c3910987b452d0c32281e80db7138b by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 May 2025 17:46:01 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
    
    <title>Cổng thanh toán Tpbank</title>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta property="og:locale" content="vi_VN"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="kami Payment"/>
    <meta property="og:description" content="Nhà cung cấp: kami cloud
Mã đơn hàng:{{data.id}} 
Số tiền: {{data.vnd}} 
Mô tả: Thanh toan hoa don {{data.d}}"/>
    <meta property="og:image:width" content="800"/>
    <meta property="og:image:height" content="366"/>
    <meta property="og:image" content="https://static.momocdn.net/app/media/payment/banner.jpg"/>
    <link
          href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900italic,900' rel='stylesheet'>
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.5.3/css/bootstrap.min.css">
    <link media="screen" rel="stylesheet" href="css/core.css"/>
    <link href="images/icons/TPB.ico" rel="SHORTCUT ICON">
    <script crossorigin="anonymous"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!--    <script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lazyload/2.0.3/lazyload.js"></script>


<meta content="width=device-width, initial-scale=1" name="viewport">


<meta name="_csrf" content="c0b50281-67db-4de7-8705-e68ab6e01f5a"/>


<!-- default header name is X-CSRF-TOKEN -->


<meta name="_csrf_header" content="X-CSRF-TOKEN"/>


<link media="screen" rel="stylesheet" href="css/payment.css"/>


<link media="screen" rel="stylesheet" href="css/qr.css"/>


<link media="screen" rel="stylesheet" href="css/slider.css"/>


<link href='https://fonts.googleapis.com/css?family=Nunito' rel='stylesheet'>


<style>
        .content {
            min-height: calc(100vh - var(--footer-header-height, 20vh));
        }
        .payment-cta h1 {
            font-size: 1.3rem;
            font-weight: 500;
            line-height: 1.5rem;
        }
        .payment-form .payment-content {
            background:url(https://i.pinimg.com/564x/4b/83/06/4b8306f9ffc0692ecf77dbb9c885aa75.jpg);
            padding-bottom: 5%
        }
        .payment-form .expire-content .box-expire {
            background-color: rgb(255 240 246);
        }

        .payment-form .expire-content .box-expire .expire-text {
            color: rgb(216 45 139);
        }

        .payment-qr {
            min-width: 350px;
        }

        .payment-form .expire-content .box-expire .time-box {
            background-color: #f3d4e6;
        }
    </style>


<link media="screen" rel="stylesheet" href="css/guide.css"/>


<link media="screen" rel="stylesheet" href="css/guide-vietqr.css"/>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>


<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


</head>
<body>
<header id="header">
    <div class="container">
        <div class="header-wrapper">
            <div class="logo-wrap">
                <a class="navbar-brand momo-logo">
                    <!-- <svg class="svg-icon fill-current imgLogo " fill="#fff" height="87" viewBox="0 0 96 87" width="96"
                         xmlns="http://www.w3.org/2000/svg">
<path d="M0 0 C1.30806107 -0.00639748 1.30806107 -0.00639748 2.64254761 -0.01292419 C3.60154968 -0.01247101 4.56055176 -0.01201782 5.5486145 -0.0115509 C6.55685272 -0.01490952 7.56509094 -0.01826813 8.60388184 -0.02172852 C11.95021788 -0.03125862 15.296504 -0.0331827 18.64285278 -0.03425598 C20.96211773 -0.03746725 23.28138246 -0.04083122 25.60064697 -0.04434204 C30.46807322 -0.05033855 35.3354817 -0.05218142 40.20291138 -0.05158997 C46.44649299 -0.05148834 52.68996089 -0.06513855 58.93351555 -0.08236217 C63.72555059 -0.09346955 68.51755804 -0.09550956 73.30960464 -0.09498024 C75.61174028 -0.09616234 77.91387659 -0.10059693 80.2159996 -0.10831261 C83.43372352 -0.11808646 86.65119927 -0.11524462 89.868927 -0.10920715 C90.82388062 -0.11482666 91.77883423 -0.12044617 92.76272583 -0.12623596 C94.07924637 -0.11994423 94.07924637 -0.11994423 95.42236328 -0.11352539 C96.56333371 -0.11434254 96.56333371 -0.11434254 97.72735405 -0.1151762 C100.16376391 0.1721046 101.75978133 0.84289274 103.83816528 2.13371277 C105.4724648 5.4023118 105.36377522 8.60170458 104.83816528 12.13371277 C103.51606216 15.4515691 101.70586343 18.40888376 99.83816528 21.44621277 C99.30344604 22.34791199 98.76872681 23.24961121 98.21780396 24.17863464 C97.05229872 26.14026091 95.87904532 28.09729957 94.69900513 30.05021667 C92.80658128 33.1860489 90.93837869 36.3351595 89.07644653 39.48918152 C86.762987 43.40721684 84.44518374 47.3225494 82.11885071 51.23295593 C78.79720571 56.8173047 75.49507382 62.41263094 72.21316528 68.02043152 C71.63903145 69.0013829 71.63903145 69.0013829 71.05329895 70.00215149 C69.20342072 73.16405076 67.35546245 76.32706 65.50930786 79.49113464 C63.62907543 82.71134358 61.73536987 85.9234696 59.83816528 89.13371277 C59.35202759 89.96838074 58.86588989 90.80304871 58.36502075 91.66300964 C56.3487562 95.03787958 54.88086221 97.49469272 51.33816528 99.25871277 C47.83816528 100.13371277 47.83816528 100.13371277 45.27566528 99.82121277 C38.17910402 94.90820882 34.19643038 85.8890236 29.97845459 78.56690979 C28.11387105 75.33058999 26.23269274 72.10392063 24.35379028 68.87590027 C23.97358231 68.22169601 23.59337433 67.56749176 23.2016449 66.89346313 C19.57807461 60.66638762 15.87111409 54.49082595 12.15066528 48.32121277 C10.93678615 46.29537327 9.72324319 44.2693323 8.51004028 42.24308777 C5.96072414 37.98872739 3.38163237 33.7538225 0.79129028 29.52433777 C-0.50626445 27.37370606 -1.80316192 25.22267764 -3.09933472 23.07121277 C-3.70930298 22.08983337 -4.31927124 21.10845398 -4.94772339 20.09733582 C-8.31090095 14.46595736 -10.05279064 10.7222944 -9.16183472 4.13371277 C-6.68397902 0.64218883 -4.12488776 0.0090969 0 0 Z M30.83816528 14.13371277 C31.53022012 19.86308792 32.2240376 25.59224589 32.91946411 31.32121277 C33.1556219 33.26874568 33.39130436 35.2163363 33.62649536 37.16398621 C33.96532178 39.96915373 34.3058769 42.7741069 34.64675903 45.57902527 C34.75096664 46.44488251 34.85517426 47.31073975 34.96253967 48.20283508 C35.49059229 52.53374375 36.07703864 56.83594545 36.83816528 61.13371277 C43.11395343 57.03397985 49.19988183 52.73311293 55.21316528 48.25871277 C56.87313109 47.02928892 58.53328655 45.8001211 60.19363403 44.57121277 C60.98689087 43.98340027 61.78014771 43.39558777 62.59744263 42.78996277 C66.99039069 39.5428763 71.41253787 36.33607688 75.83816528 33.13371277 C73.50721489 31.57974584 71.60882177 30.52323807 69.07278442 29.45378113 C68.32513321 29.13682785 67.57748199 28.81987457 66.80717468 28.49331665 C66.00400314 28.15679581 65.2008316 27.82027496 64.37332153 27.47355652 C63.54360336 27.12362137 62.71388519 26.77368622 61.85902405 26.41314697 C60.1054011 25.67450882 58.35111628 24.93744037 56.59622192 24.201828 C53.91257768 23.07620927 51.23169849 21.94419274 48.55105591 20.81144714 C46.84614019 20.09426406 45.14106723 19.37745466 43.43582153 18.66105652 C42.23410057 18.15323891 42.23410057 18.15323891 41.00810242 17.63516235 C40.25729904 17.32136124 39.50649567 17.00756012 38.73294067 16.68424988 C38.07580582 16.40826462 37.41867096 16.13227936 36.74162292 15.84793091 C34.79481562 15.11744705 32.8633609 14.59844572 30.83816528 14.13371277 Z " fill="#F08D20"/>
                    </svg> -->
                </a>
                <span class="logo-title">Cổng thanh toán Tpbank (kami cloud )</span>
            </div>
        </div>
    </div>
</header>
<div class="payment-container content">
        <div><div id="load">
    <div class="loader">
        <span class="loader__element"></span>
        <span class="loader__element"></span>
        <span class="loader__element"></span>
    </div>
    <span class="text-center">Đang tải dữ liệu giao dịch</span>
</div></div>
        <div class="d-none container" id="contents">
            <input id="canary" value="false" type="hidden"/>
            <div class="modal-background modal momoModal" id="paymentModal" role="dialog" tabindex="-1">
    <div class="modal-instruction modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <div class="modal-body modal-guide-body">
                <img class="button-modal-close" onclick="closeModal()"
                     src="images/navigation-close-circle.svg"/>
                <div class="title">
                    <div>
                        <h5 class="">Hướng dẫn quét mã QR</h5>
                    </div>
                </div>
                <div class="modal-container">
                    <div class="momo">
                        <h5 class="title">Quét mã bằng MoMo</h5>
                        <div style="position: relative; display: inline-block" class="image">
                            <img style="width: 104%" src="images/qr-instruction-momo.png"
                                 alt=""/>
                            <img class="arrow" src="images/qr-instruction-arrow.png"
                                 alt=""/>
                        </div>
                        <img class="image" src="images/qr-instruction-momo2.png" alt=""/>
                        <div class="note">*Lưu ý: Luôn thanh
                            toán bằng MoMo hoặc ứng dụng ngân hàng để được hỗ trợ tốt nhất.
                        </div>
                    </div>
                    <div class="bank">
                        <h5 class="title" style="color:#303233;">Quét mã bằng ứng dụng ngân hàng</h5>
                        <div style="position: relative; display: inline-block" class="image">
                            <img style="width: 100%"
                                 src="images/qr-instruction-bank.png"/>
                            <img class="arrow" src="images/qr-instruction-arrow2.png"
                                 alt=""/>
                        </div>
                        <img class="image" src="images/qr-instruction-bank2.png"/>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


            <div class="row qr-web d-flex justify-content-center" id="qr-web-ui">
                <div class="row payment-form" id="form-qr-code">
                    <div class="col-lg-4 payment-form">
                        <div class="ui-desktop"><div class="info-content">
    <div class="payment-info payment-info-bottom">
        

        <div class="payment-title">
            <h1> Thông tin đơn hàng</h1>
        </div>
        <div class="payment-detail">
            <div>
                <div class="box-detail">
                    <h4>Nhà cung cấp</h4>
                    <div class="two-box">
                        <img class="merchant-logo" src="https://img.mservice.com.vn/momo_app_v2/img/TPB.png" loading="lazy">
                        <p class="merchant-name">{{ data.name}} </p>
                    </div>
                </div>
                <div class="line-detail"></div>
                <div class="box-detail">
                    <h4>STK</h4>
                    <div class="two-box">
                        <img class="merchant-logo" src="https://img.mservice.com.vn/momo_app_v2/img/TPB.png" loading="lazy">
                        <p class="merchant-name">{{data.S}}</p>
                    </div>
                </div>
                    <div class="line-detail"></div>
                    <div class="box-detail">
                        <h4>Mã đơn hàng</h4>
                        <p class="ellipsis" data-toggle="tooltip" data-placement="top" data-animation="true">{{data.id}}</p>
                    </div>
                

                
                
                <div class="box-detail">
                    <div class="line-detail"></div>
                    <h4>Mô tả</h4>
                    <p class="ellipsis" data-toggle="tooltip" data-placement="top" data-animation="true">{{data.d}}</p>
                </div>
                

            </div>
            
            
                
                    <div class="line-detail"></div>
                    <div class="box-detail">
                        <h4>Số tiền</h4>
                        <h3>{{data.vnd}}</h3>
                        
                    </div>
                
            
            
        </div>
    </div>
</div>
<div class="expire-content mb-3">
    <div class="box-expire">
        <div class="expire-text">
            <p>Đơn hàng sẽ hết hạn sau: <br/> <span class="font-weight-bold time-expire-text d-inline-flex"
                                                    name="expiredAt"></span></p>
        </div>
    </div>
</div>
</div>
                        <div class="text-center my-3 font-size-14 font-weight-bold-600">
                            <a id="backButton" class="momo-color hover-momo-color hover-none-decoration" href="#">Quay về</a>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="payment-content" id="body-payment-content">
                            <div class="payment-qr col-sm-7 mx-auto pb-0 pt-3 pb-3 text-white">
                                <div class="payment-cta p-0">
                                    <div>
                                        
                                        
                                        
                                        
                                        
                                        <h1>Quét mã QR để thanh toán</h1>
                                    </div>
                                    <div id="momo-mark" class="mx-auto pt-3">
                                        <div><div class="momo-vietqr-mark text-center">
    <img class="img-momo"  src="images/momo-horizontal.png">
    <img class="img-momo-vietqr-mark"  src="images/vietqr.png">
    <img class="img-napas"  src="images/napas247.png">
</div>
</div>
                                    </div>

                                    <div class="qrcode_scan_container">
                                        <div class="qrcode_scan">
                                            <div class="qrcode_gradient"><img alt=""
                                                                              src="images/qrcode-gradient.png"
                                                                              loading="lazy"
                                                                              class="jsx-d22f6bd0771ae323 img-fluid">
                                            </div>
                                            <div class="qrcode_border"><img alt=""
                                                                            src="images/border-qrcode.svg"
                                                                            class="jsx-d22f6bd0771ae323 img-fluid">
                                            </div>
                                            <div class="qrcode_image">
                                                <img alt="paymentcode"
                                            
                                            
                                            
                                            
                                                class="image-qr-code" src=""/>
                                          
                                          
                                          
                                          
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-4 text-sm">
                                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                             stroke="currentColor" class="jsx-d22f6bd0771ae323 mr-1 inline h-6 w-6">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                  d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"
                                                  class="jsx-d22f6bd0771ae323"></path>
                                        </svg>
                                        <a>Sử dụng <b> App MoMo & App Banking </b> hoặc <b> ứng dụng ngân
                                            hàng </b> để quét mã</a>
                                        
                                    </div>

                                        

                                        <div class="text-center text-nowrap mt-3 font-size-14">
                                            <div class="mr-1 d-inline">Gặp khó khăn khi thanh toán? </div>
                                            <a
                                                    class="yellow-color font-weight-bold-600 hover-none-decoration"
                                                    href="#" onclick="return showModal()">Xem Hướng dẫn</a>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        <div class="slide-wrapper">
                            <div id="slides"></div>
                            <div style="text-align: center">
                                <div id="dots">
                                    <div id="float"></div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                </div>

                <form action="/v2/gateway/action" id="cancel-payment-form" method="post"
                      novalidate>

                    <!-- <input name="_csrf"
                           value="c0b50281-67db-4de7-8705-e68ab6e01f5a"
                           type="hidden"/>
                    <input name="sessionId" value="TU9NT0JLVU4yMDE4MDUyOXxPRDE3NDYyMDc3MzM0OTI"
                           type="hidden"/>
                    <input name="mToken" value="qPofsLREmvT38oNCGH3oggXVTcppFM1+ic1AJ8vyVie/GZbb5sUv2X2JnnutF3kMKyIB5SsfSnA="
                           type="hidden"/> -->
                           <input name="t" value="{{data.d}}"
                           type="hidden"/>
                    <div>
                        <button class="btn btn-momo-cancel" id="btn-momo-cancel" name="action"
                                style="display: none;" type="submit"
                                value="cancel">
                            Quay lại
                        </button>
                        <button id="btn-momo-expire" name="action" style="display: none;"
                                type="submit" value="expire">Expire
                        </button>

                        
                    </div>
                </form>

            </div>
            <script async
                    src="https://www.googletagmanager.com/gtag/js?id=G-XLJFKD4ESD"></script>
            <!-- Global site tag (gtag.js) - Google Analytics -->
            <script>
                window.dataLayer = window.dataLayer || [];

                function gtag() {
                    dataLayer.push(arguments);
                }

                gtag('js', new Date());

                gtag('config', 'G-XLJFKD4ESD');
            </script>
            <script>
                var offset = {{data.ti}};
                var countdown = parseInt(offset) / 1000;
                var retry = 500;
                var isTablet = false;
                var device;
                var lastCountDown;
                var countDownTimer;
                var pageHidden = false;
                if (false) {
                    device = 'mobile';
                } else if (false) {
                    device = 'tablet';
                } else device = 'desktop';
                var trackingModel = {"merchant_id":"MOMOBKUN20180529",
                    "order_id":{{data.id}},
                    "service_name":"payment_momowallet",
                    "screen_name":"wallet_pgw",
                    "event_name":null,
                    "device":"desktop",
                    "api":null,
                    "button_name":null,
                    "status":null,
                    "component_name":null,
                    "category":null,
                    "field_name":null};
                    const Data_kami = {{ data | tojson }};
                var refreshQrInterval =1;

                function back() {
                    if (trackingModel) {
                        // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                        const params = trackingModel;
                        params.component_name = 'cancel_confirmation';
                        params.category = 'popup';
                        params.button_name = 'confirm';
                   //     gtag('event', 'service_component_clicked', params);
                    }
                    handleAction("cancel");
                }

                function closeCommonModalAndSendEvent() {
                    if (trackingModel) {
                        // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                        const params = trackingModel;
                        params.component_name = 'cancel_confirm';
                        params.category = 'popup';
                        params.button_name = 'close';
                 //       gtag('event', 'service_component_clicked', params);
                    }
                    $(".common-modal").remove()
                }

                function isInIframe() {
                    try {
                        return window.self !== window.top;
                    } catch (e) {
                        return true;
                    }
                }

                function isSafari() {
                    return null && navigator.vendor && navigator.vendor.indexOf('Apple') > -1 &&
                        navigator.userAgent &&
                        navigator.userAgent.indexOf('CriOS') === -1 &&
                        navigator.userAgent.indexOf('FxiOS') === -1;
                }

                function openStore() {
                    setTimeout(function () {
                        if (isInIframe()) {
                            if (isSafari()) {
                                window.top.location.href = "market:\/\/details?id=com.mservice.momotransfer";
                            } else {
                                window.location.href = "market:\/\/details?id=com.mservice.momotransfer";
                            }
                        } else {
                            window.location.href = "market:\/\/details?id=com.mservice.momotransfer";
                        }
                    }, 100);
                }

                $('#openAppStore').click(function () {
                    openStore();
                    return false;
                });

                document.onreadystatechange = function () {
                    if ("interactive" === document.readyState && trackingModel) {
                        // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                        const params = trackingModel;
                        params.api = 'payUrl';
                        params.status = 'success';
                        gtag('event', 'gateway_displayed', params);
                    }
                    "complete" == document.readyState && setTimeout(async function () {
                        if (trackingModel) {
                            // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                            const params = trackingModel;
                            params.api = 'qr';
                            params.status = 'success';
                            gtag('event', 'qr_displayed', params);
                        }
                        document.getElementById("interactive"), document.getElementById("load").remove(), document.getElementById("contents").classList.remove("d-none");
                    }, 1e3)
                }

                function renderCountDown() {
                    var d = Math.max(0, parseInt(countdown / 86400)),
                        b = Math.max(0, parseInt((countdown - d * 86400) / 3600)),
                        a = Math.max(0, parseInt((countdown - d * 86400 - b * 3600) / 60)),
                        c = Math.max(0, parseInt(countdown - 60 * a - b * 3600 - d * 86400));
                    if (document.hidden) {
                        if (lastCountDown) {
                            let diff = Math.round((new Date().getTime() - lastCountDown.getTime()) / 1000);
                            countdown -= diff;
                        } else {
                            countdown--;
                        }
                    } else {
                        countdown--;
                    }
                    if (countdown < 0) countdown = 0;
                    a < 10 && (a = "0" + a), b < 10 && (b = "0" + b), c < 10 && (c = "0" + c);
                    if (d > 0) {
                        d < 10 && (d = "0" + d);
                        $("span[name=expiredAt]").html('<div class="time-box">' + d + '<br>' + '<p>' + "Ngày" + '</p>' + '</div>' + '<div class="time-box">' + b + '<br>' + '<p>' + "Giờ" + '</p>' + '</div>' + '<div class="time-box">' + a + '<br>' + '<p>' + "Phút" + '</p>' + '</div>' + '<div class="time-box">' + c + '<br>' + '<p>' + "Giây" + '</p>' + '</div>'), $("b[name=expiredAt]").html(d + " Ngày : " + b + " Giờ : " + a + " Phút : " + c + " Giây ");
                    }

                    if (d <= 0 && b > 0) {
                        $("span[name=expiredAt]").html('<div class="time-box">' + b + '<br>' + '<p>' + "Giờ" + '</p>' + '</div>' + '<div class="time-box">' + a + '<br>' + '<p>' + "Phút" + '</p>' + '</div>' + '<div class="time-box">' + c + '<br>' + '<p>' + "Giây" + '</p>' + '</div>'), $("b[name=expiredAt]").html(b + " Giờ : " + a + " Phút : " + c + " Giây ");
                    }

                    if (d <= 0 && b <= 0) {
                        $("span[name=expiredAt]").html('<div class="time-box">' + a + '<br>' + '<p>' + "Phút" + '</p>' + '</div>' + '<div class="time-box">' + c + '<br>' + '<p>' + "Giây" + '</p>' + '</div>'), $("b[name=expiredAt]").html(a + " Phút : " + c + " Giây ");
                    }
                    lastCountDown = new Date();
                    countdown <= 0 && (clearInterval(countDownTimer), handleAction("expire"))
                }

                $(document).ready(function () {
                    $.ajaxSetup({cache: !1})
                    setUpUI();

                    if (offset > 0) {
                        countDownTimer = setInterval(renderCountDown, 1e3);
                        document.addEventListener("visibilitychange", () => {
                            if (document.hidden) {
                                pageHidden = true;
                            } else {
                                if (pageHidden) {
                                    let diff = Math.round((new Date().getTime() - lastCountDown.getTime()) / 1000);
                                    if (diff > 0) {
                                        countdown = countdown - diff + 1;
                                        renderCountDown();
                                    }
                                    pageHidden = false;
                                }
                            }
                        });
                    }
                });

                function redirect(data) {
                    if (trackingModel) {
                        // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                        const params = trackingModel;
                        params.api = 'redirectUrl';
                        params.status = 'success';
                     //   gtag('event', 'callback_completed', params);
                    }
                    if (data.return_url) {
                        window.location.replace(data.return_url);
                    } else if (data.returnUrl) {
                        window.location.replace(data.returnUrl);
                    }
                }


                function executeXML() {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
                            // Typical action to be performed when the document is ready:
                            var data = JSON.parse(xhttp.responseText);
                            if (data.redirect) {
                                redirect(data);
                            } else {
                                if (retry > 0)
                                    setTimeout(executeXML, 4000);
                                retry--;
                            }
                        }
                    };
                    xhttp.open("POST", `/v2/gateway/querySession?t=${Data_kami.d}`, true);
                    xhttp.setRequestHeader("X-CSRF-TOKEN", "c0b50281-67db-4de7-8705-e68ab6e01f5a");
                    if ("captureWallet" == "payWithAioBillPay") {
                        let webURL = {
                            t: "TU9NT0JLVU4yMDE4MDUyOXxPRDE3NDYyMDc3MzM0OTI",
                            s: "0b183944e9197026e5a4cf37343a167a17c3910987b452d0c32281e80db7138b"
                        }
                        xhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                        xhttp.send(JSON.stringify(webURL));
                    } else {
                        xhttp.send();
                    }
                }

                $(document).ready(function () {
                    $.ajaxSetup({
                        cache: false
                    });
                    setTimeout(executeXML, 4000);

                });

                function showModal() {
                    if (trackingModel) {
                        // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                        const params = trackingModel;
                        params.button_name = 'user_guide';
                        gtag('event', 'service_button_clicked', params);
                    }
                    $('.modal-background').css('display', 'block')
                }

                function closeModal() {
                    $('.modal-background').css('display', 'none')
                }

                function handleAction(actionType) {
                    var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function () {
                        if (this.readyState == XMLHttpRequest.DONE && this.status == 200) {
                            var data = JSON.parse(xhttp.responseText);
                            if (data.status_code !== 7000) {
                                if (actionType === "expire") {
                                    document.getElementById("btn-momo-expire").click();
                                } else if (actionType === "cancel") {
                                    document.getElementById("btn-momo-cancel").click();
                                }
                            }
                        }
                    };
                    xhttp.open("POST", `/v2/gateway/queryProcessingTransaction?t=${Data_kami.d}`, false);
                    xhttp.setRequestHeader("X-CSRF-TOKEN", "c0b50281-67db-4de7-8705-e68ab6e01f5a");
                    if ("captureWallet" == "payWithAioBillPay") {
                        let webURL = {
                            t: "TU9NT0JLVU4yMDE4MDUyOXxPRDE3NDYyMDc3MzM0OTI",
                            s: "0b183944e9197026e5a4cf37343a167a17c3910987b452d0c32281e80db7138b"
                        }
                        xhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
                        xhttp.send(JSON.stringify(webURL));
                    } else {
                        xhttp.send();
                    }
                }

                function setUpUI() {
                    document.documentElement.style.setProperty('--footer-header-height', $('#header').height() + $('#footer').height() + "px");
                    $('.ellipsis').each(function () {
                        const $c = $(this)
                            .clone()
                            .css({display: 'inline', width: 'auto', visibility: 'hidden'})
                            .appendTo('body');
                        const mws = $(this).css('max-width');
                        if (mws) {
                            const mw = parseInt(mws.replaceAll('px', ''));
                            if ($c.width() > mw) {
                                createTooltip($(this), $(`<div class='tip-content p-1'>${$(this).text()}</div>`), 40);
                            }
                        }
                        $c.remove();
                    });
                    const feeEu = null;
                    if (feeEu) {
                        const tipContent = $(`<div class='tip-content p-1'>
                            <div class="pb-2 font-weight-bolder font-size-14" style="border-bottom: 1px dashed;">Phí áp dụng</div>
                            <div class="mt-2 d-flex justify-content-between">
                                <strong>Phí giao dịch:</strong>
                                <strong>${feeEu}đ</strong>
                            </div>
                            <div class="mt-1">Phí giao dịch này dùng để xử lý, duy trì và cải tiến các giao dịch với các đối tác của cổng thanh toán</div>
                        </div>`);
                        createTooltip($('#fee-eu-tooltip'), tipContent, 50);
                    }
                    if ("10.000" == 0) {
                        var expireText = $("<div class='expire-content mb-3'> <div class='box-expire' style='width: 350px; margin: auto'> <div class='expire-text'><p>Đơn hàng sẽ hết hạn sau: <span class='font-weight-bold time-expire-text d-inline-flex' name='expiredAt'></span></p></div></div></div>");
                        var instruction = $("<div class='text-center my-3 font-size-14'><a class='black12-color mr-1'>Gặp khó khăn khi thanh toán?</a><a onclick='return showModal()' class='blue-color font-weight-bold-600' href='#'>Xem Hướng dẫn</a></div>");
                        var backButtonObjectRender = $("<div class='text-center my-3 font-size-14 font-weight-bold-600'><a class='momo-color backButton' href='#'>Quay về</a></div>");

                        $(".payment-qr").css("padding", "30px 0px 30px 0px");

                        $("#orderInfo").remove();
                        $("#form-qr-code").removeClass("col-lg-8");

                        isTablet ? $("#form-qr-code").addClass("col-lg-12") : $("#form-qr-code").addClass("col-lg-12");

                        $(".payment-qr").append(expireText).append(instruction).append(backButtonObjectRender);
                    }

                    $('#backButton').click(function () {
                        if ("captureWallet" === 'payWithAioBillPay') {
                            window.history.go(-1);
                            return false;
                        }
                        if ("captureWallet" === 'payWithMethod' && (null === null || null === false)) {
                            location.reload();
                            return false;
                        }
                        if (trackingModel) {
                            // const params = Object.fromEntries(Object.entries(trackingModel).filter(([_, v]) => v != null));
                            const params = trackingModel;
                            params.button_name = 'back';
                            gtag('event', 'service_button_clicked', params);
                        }
                        stringPartner = "Bạn chắc chắn muốn hủy giao dịch thanh toán với " + "<strong>" + "TpBank Api" + "</strong>" + "?";
                        showCommonModal("Huỷ giao dịch thanh toán",
                            stringPartner,
                            "HUỶ GIAO DỊCH",
                            "return back()",
                            "ĐÓNG",
                            "return closeCommonModalAndSendEvent()");
                        return false;
                    })
                }
            </script>
            <script src="sh/scripts/core.js"></script>
            <script src="sh/scripts/canary.min.js"></script>
            <script src="sh/scripts/slider.js"></script>
            <script src="sh/scripts/qrcode.min.js"></script>
        </div>
    </div>
<div><footer id="footer">
    <div class="container">
        <div class="footer-wrapper">
            <div class="footer-wrap-version">
                <span>© 2025 - Cổng thanh toán kami Cloud</span>
            </div>

            <div class="footer-wrap-info">
                <span>Hỗ trợ khách hàng:</span>
                <a class="momo-phone-icon" href="tel:0123456789">0123456789(1000đ/phút)</a>
                <a class="momo-mail-icon" href="mailto:hotro@momo.vn">quangtd031@gmail.com</a>
            </div>
        </div>
    </div>
</footer></div>
<script>
    if ( window.history.replaceState ) {
        window.history.replaceState( null, null, window.location.href );
    }
</script>
</body>

<!-- Mirrored from test-payment.momo.vn/v2/gateway/pay?t=TU9NT0JLVU4yMDE4MDUyOXxPRDE3NDYyMDc3MzM0OTI&s=0b183944e9197026e5a4cf37343a167a17c3910987b452d0c32281e80db7138b by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 02 May 2025 17:46:25 GMT -->
</html>
